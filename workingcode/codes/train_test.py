import csv
import numpy as np
import sys

fn = sys.argv[1]
percentage = float(sys.argv[4])




data = np.genfromtxt(fn, dtype=np.chararray, delimiter=',')
b=0
m=0

for i in xrange(len(data)):
    if data[i][0] == "b":
        b=b+1
    else:
        m=m+1

ben_train_files=int(percentage*b)
mal_train_files=int(percentage*m)
final_data=np.column_stack((data[:,1:],data[:,0]))
'''
print b
print m
print ben_train_files
print mal_train_files
'''
cnt_b=0
cnt_m=0

out_f1=sys.argv[2]
out_f2=sys.argv[3]
writer=csv.writer(open(out_f1,'w'),delimiter=',')
writer1=csv.writer(open(out_f2,'w'),delimiter=',')
writer.writerow(final_data[0])
writer1.writerow(final_data[0])

for i in xrange(len(data)):
    if data[i][0] == "b":
        if cnt_b < ben_train_files:
            writer.writerow(final_data[i])
            cnt_b=cnt_b+1
        else:
            writer1.writerow(final_data[i])
    elif data[i][0] == "m":
        if cnt_m < mal_train_files:
            writer.writerow(final_data[i])
            cnt_m=cnt_m+1
        else:
            writer1.writerow(final_data[i])
            